# SUBMAIL AUTO WARM UP 域名和 IP 自动预热机制
<br />
## 前言
<br />
通常，当一个 ESP（邮箱服务提供商）收到新的域名或者 IP 进行邮件发信时，他们将开始对该 IP 或者域名进行监控和信誉度的计算，并且根据域名和 IP 的信誉度来决定给与该对象流量的大小。初始阶段，ESP 会限制入信的流量来达到风险管控的目的（例如当日最大入信额度 10000 封），超过这个流量的邮件可能会直接拒收，甚至有被列入黑名单的风险。

因此，一个新的域名或 IP 在启用或开始进行大量外发邮件之前需要对该域名或 IP 进行前期预热。
<br />

### 什么是前期预热？
<br />
前期预热指的是一个新 IP 或域名在大量发送邮件之前，先通过逐渐递增发信量来让  ISP 标识并认可新 IP 或域名。

关于什么是前期预热，可参考此篇关于 IP 预热的文章写的非常清楚：（http://zhuanlan.zhihu.com/email/19802487）

 <br />
### 传统预热机制的局限性
<br />
事实上，前期预热是一个非常复杂且很难掌控的工作，要对邮件地址薄中的收件人做非常严格的控制。假如你的列表中有 10000 个联系人，其中可能有 3000 是163 邮箱，有 2000 是 QQ 邮箱，如果使用手动预热，你就需要每天对你的发送列表进行手动调整，均衡每个 ESP 的发送量。而当你的邮件地址薄越大时，由于工作量之巨大，你将会发现这是一个几乎不可能完成的任务。


一些邮件服务提供商，为了避免这种情况的发生，可能在你使用他们的服务的一段时间内对你的使用信誉开始评估，一开始只是简单的控制出信量，比如说在你启用一个新的域名或 IP 时，你的第一天出信量为 6000，第一天每小时的出信量为 600，随后根据你的信誉评估，逐渐增加出信量。但这并没有从根本上真正解决问题，因为如此的做法并没有把同一邮件列表中各个不同的 ESP 考虑进去，只是简单的进行统一预估，预热的准确性和效率都大大地降低了。

试想，假如你第一天的出信量中有近 50% 的联系人是在同一个域的，这意味着可能有近 60% 的邮件可能会被弹回或拒收，且你下一个阶段的入信流量将会被大幅减少。


单纯就预热机制而言，最理想的做法是对每个不同的 ESP 进行单独预热，即点对点的单独预热。例如：你的联系人中可能会有多个不同域，而其中可能有一些联系人的域非常集中，如国内的 QQ 、163、126、新浪，国外的 GMAIL、YAHOO、HOTMAIL 等大型 ESP。事实上大型 ESP 非常多，全球用户过千万级的大型 ESP 可能有成千上万个，面对比较集中的域，你需要严格控制对这些域每天的出信量，而每个 ESP 都有不同的流量规则，如果人工去控制前期预热，将会是一个非常复杂、耗时耗力的工作。

如果你在为前期预热问题而困扰，［SUBMAIL AUTO WARM UP 自动预热功能］将会帮助你解决这些问题。

<br />

## 什么是 SUBMAIL AUTO WARM UP 自动预热功能（SAWU）?
<br />
［SUBMAIL 自动预热功能 SAWU］是为您解决域名或独立 IP 前期预热等问题的全新解决方案，在你使用 SUBMAIL 邮件服务时（包含触发邮件服务和推广邮件），SUBMAIL AUTO WARM UP 功能将会自动为你添加的新域或独立 IP 进行前期预热。

<br />
### 自动预热机制
<br />
当你对某个 ESP 开始发送邮件时，SAWU 将自动对此 ESP 进行预热。当预热开始后，SAWU 将会根据你对此域的发送情况、频率和发送阶段等进行控制，超过当前 ESP 的最大入信量时，SAWU 将会自动中断邮件发送，并将你在队列中的邮件（仅该 ESP）延迟至下一小时，或隔天进行发送，整个过程无需人工干预 SAWU 将自动完成预热。

＊对于独立 IP 或多 IP 的用户可以选择启用或禁用 SAWU 功能

SAWU 并不是控制你的出信量，而是针对单个域进行点对点预热。例如：你有一个 100000 的邮件联系人列表，其中每个不同 ESP 的联系人占比不大于该 ESP 当前阶段最大出信量，此队列将不会有任何发送延迟。

整个预热过程视你的收件人的 ESP 不同，会分为不同的阶段，大致可分为 50 个阶段：

例如你的域名 yourdomain.com 或独立 IP 发送至 qq.com 的预热进程大致为：

第1阶段最大： 1000 封，每小时最大：100 封，当前阶段发信量到达 500 封后进入下一阶段

第2阶段最大： 1500 封，每小时最大：200 封，当前阶段发信量到达 500 封后进入下一阶段

第3阶段最大： 2000 封，每小时最大：200 封，当前阶段发信量到达 1000 封后进入下一阶段

…

第49阶段最大： 300000 封，每小时最大：30000 封

第50阶段最大： 500000 封，每小时最大：50000 封

SUBMAIL AUTO WARM UP 将会根据特定的 ESP 动态调整阶段的发送量。

<br />
## 使用参考与建议
<br />
SUBMAIL AUTO WARM UP 并不能100%的保证你不被 ESP 拒绝，要更好的预热你的域名或 IP 你还需要尽量做到以下几点：

<br />
### 1: 优秀的邮件内容和规范编码
<br />
ESP 不仅对你的入信量进行评估，你的邮件内容也是决定你的邮件到达率的重要因素之一。优秀的邮件内容和规范的 HTML 编码，将会加速 ESP 对你发件域和 IP 信任。请在发送你的邮件之前，检查你的邮件代码或将你的邮件 发送至 http://www.mail-tester.com 查看你的邮件得分。

如果你并不精通 HTML 代码，或邮件中的代码规范，你可以使用 SUBMAIL 邮件编辑器来完成你的邮件编辑， SUBMAIL 邮件编辑器将会最大限度提高你的邮件兼容能力和对移动设备的支持。
<br />
### 2: 配置独立的触发类（或事务类）邮件域和推广类（EDM、订阅类）邮件域
<br />
SUBMAIL 触发邮件服务和推广类邮件服务将都受到 SAWU 机制干预。所以，当你同时使用2个服务时，请将触发邮件域和推广邮件域分开，即需要配置2个发送域名，如你的域名是 yourdomain.com，请为触发邮件域配置一个二级域，如 service.yourdomain.com，再为推广类邮件配置 newsletter.yourdomain.com 域，这样2个服务独立预热、互不影响。


<br />
### 3:良好收件人列表
<br />
用户主动订阅的邮件和会员邮件类的邮件接收者接受程度较高，收件人活跃程度相对较高，这类邮件往往能产生较好的打开与点击反馈，有利于域名额度的增长和域名信誉度的提升。

预热的收件人要尽量避免无效地址，因为 ESP 对发送较多无效地址的发送者是很不友好的，因为他们觉得你可能在发垃圾邮件，不利于额度增长和域名信誉度的提升的，甚至会降低。

------------